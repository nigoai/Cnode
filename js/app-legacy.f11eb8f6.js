(function(){"use strict";var t={586:function(t,n,e){e(6992),e(8674),e(9601),e(7727),e(7327),e(1539);var a=e(8935),i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("Header"),e("div",{staticClass:"main"},[e("router-view",{attrs:{name:"slidebar"}}),e("router-view",{attrs:{name:"main"}})],1)],1)},s=[],r=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"header"},[a("touter-link",{attrs:{to:{name:"root"}}},[a("img",{attrs:{src:e(3956),alt:""}})]),t._m(0)],1)},o=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ul",[e("li",[e("a",{attrs:{href:"#"}},[t._v("首页")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("新手入门")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("API")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("关于")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("登录")])])])}],c={name:"Header",data:function(){return{}},methods:{}},u=c,l=e(1001),p=(0,l.Z)(u,r,o,!1,null,"6c78f4b4",null),f=p.exports,d=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"PostList"},[t.isLoading?a("div",{staticClass:"loading"},[a("img",{attrs:{src:e(6053)}})]):a("div",{staticClass:"posts"},[a("ul",[t._m(0),t._l(t.posts,(function(n){return a("li",{key:n.id},[a("img",{attrs:{src:n.author.avatar_url,alt:""}}),a("span",{staticClass:"allcount"},[a("span",{staticClass:"reply_count"},[t._v(t._s(n.reply_count))]),t._v(" /"+t._s(n.visit_count)+" ")]),a("span",{class:[{put_good:1==n.good,put_top:1==n.top,"topiclist-tab":1!=n.good&&1!=n.top}]},[a("span",[t._v(" "+t._s(t._f("tabFormatter")(n))+" ")])]),a("router-link",{attrs:{to:{name:"post_content",params:{id:n.id,name:n.author.loginname}}}},[a("span",[t._v(" "+t._s(n.title)+" ")])]),a("span",{staticClass:"last_reply"},[t._v(" "+t._s(t._f("formatDate")(n.last_reply_at))+" ")])],1)})),a("li",[a("pagination",{on:{handleList:t.renderList}})],1)],2)])])},_=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("li",[e("div",{staticClass:"toobar"},[e("span",[t._v("全部")]),e("span",[t._v("精华")]),e("span",[t._v("分享")]),e("span",[t._v("问答")]),e("span",[t._v("招聘")])])])}],h=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"pagination"},[e("button",{on:{click:t.changeBtn}},[t._v("首页")]),e("button",{on:{click:t.changeBtn}},[t._v("上一页")]),t.jduge?e("button",{staticClass:"pagebtn"},[t._v("......")]):t._e(),t._l(t.pagebtns,(function(n){return e("button",{key:n,class:[{currentPage:n==t.currentPage},"pagebtn"],on:{click:function(e){return t.changeBtn(n)}}},[t._v(" "+t._s(n)+" ")])})),e("button",{on:{click:t.changeBtn}},[t._v("下一页")])],2)},v=[],g=(e(561),e(4029)),m=e.n(g),b={name:"Pagination",data:function(){return{pagebtns:[1,2,3,4,5,"......"],currentPage:1,jduge:!1}},methods:{changeBtn:function(t){if("number"==typeof t)this.currentPage=t,this.jduge=t>4,t==this.pagebtns[4]?(this.pagebtns.shift(),this.pagebtns.splice(4,0,this.pagebtns[3]+1)):t==this.pagebtns[0]&&1!=t&&(this.pagebtns.unshift(this.pagebtns[0]-1),this.pagebtns.splice(5,1)),this.$emit("handleList",this.currentPage);else switch(t.target.innerText){case"上一页":m()("button.currentPage").prev().click();break;case"下一页":m()("button.currentPage").next().click();break;case"首页":this.pagebtns=[1,2,3,4,5,"......"],this.changeBtn(1);break;default:break}}}},C=b,k=(0,l.Z)(C,h,v,!1,null,"20d87e31",null),y=k.exports,L={name:"PostList",data:function(){return{isLoading:!1,posts:[],postpage:1}},components:{pagination:y},methods:{getData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/topics",{params:{page:this.postpage,limit:20}}).then((function(n){t.isLoading=!1,t.posts=n.data.data})).catch((function(t){console.log(t)}))},renderList:function(t){this.postpage=t,this.getData()}},beforeMount:function(){this.isLoading=!0,this.getData()}},$=L,w=(0,l.Z)($,d,_,!1,null,"c3b0ed56",null),x=w.exports,D={name:"App",components:{Header:f,PostList:x}},P=D,Z=(0,l.Z)(P,i,s,!1,null,null,null),j=Z.exports,O=e(2809),E=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"article"},[t.isLoading?a("div",{staticClass:"loading"},[a("img",{attrs:{src:e(6053)}})]):a("div",[a("div",{staticClass:"topic_header"},[a("div",{staticClass:"topic_title"},[t._v(t._s(t.post.title))]),a("ul",[a("li",[t._v("•发布于:"+t._s(t._f("formatDate")(t.post.create_at)))]),a("li",[t._v("•作者:"+t._s(t.post.author.loginname))]),a("li",[t._v("•"+t._s(t.post.visit_count)+" 次浏览")]),a("li",[t._v("•来自"+t._s(t._f("tabFormatter")(t.post)))])]),a("div",{staticClass:"topic_content",domProps:{innerHTML:t._s(t.post.content)}})]),a("div",{attrs:{id:"reply"}},[a("div",{staticClass:"topbar"},[t._v("回复")]),t._l(t.post.replies,(function(n,e){return a("div",{key:e,staticClass:"replySec"},[a("div",{staticClass:"replyUp"},[a("router-link",{attrs:{to:{name:"user_info",params:{name:n.author.loginname}}}},[a("img",{attrs:{src:n.author.avatar_url,alt:""}})]),a("router-link",{attrs:{to:{name:"user_info",params:{name:n.author.loginname}}}},[a("span",[t._v(t._s(n.author.loginname))])]),a("span",[t._v(" "+t._s(e+1)+"楼 ")]),n.ups.length>0?a("span",[t._v(" ☝ "+t._s(n.ups.length)+" ")]):a("span")],1),a("p",{domProps:{innerHTML:t._s(n.content)}})])}))],2)])])},I=[],T={name:"Article",data:function(){return{isLoading:!1,post:{}}},methods:{getArticleDate:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/topic/".concat(this.$route.params.id)).then((function(n){1==n.data.success&&(t.isLoading=!1,t.post=n.data.data)})).catch((function(t){console.log(t)}))}},beforeMount:function(){this.isLoading=!0,this.getArticleDate()},watch:{$route:function(t,n){this.getArticleDate()}}},B=T,M=(0,l.Z)(B,E,I,!1,null,null,null),A=M.exports,H=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"UserInfo"},[t.isLoading?a("div",{staticClass:"loading"},[a("img",{attrs:{src:e(6053)}})]):a("div",{staticClass:"userInfomation"},[a("section",[a("img",{attrs:{src:t.userinfo.avatar_url}}),a("span",[t._v(t._s(t.userinfo.loginname))]),a("p",[t._v(t._s(t.userinfo.score)+"积分")]),a("p",[t._v("注册时间："+t._s(t._f("formatDate")(t.userinfo.create_at)))])]),a("div",{staticClass:"replies"},[a("p",[t._v("回复的主题")]),a("ul",t._l(t.userinfo.recent_replies,(function(n){return a("li",{key:n},[a("router-link",{attrs:{to:{name:"post_content",params:{id:n.id}}}},[t._v(" "+t._s(n.title)+" ")])],1)})),0)]),a("div",{staticClass:"topics"},[a("p",[t._v("创建的主题")]),a("ul",t._l(t.userinfo.recent_topics,(function(n){return a("li",{key:n},[a("router-link",{attrs:{to:{name:"post_content",params:{id:n.id}}}},[t._v(" "+t._s(n.title)+" ")])],1)})),0)])])])},F=[],U=(e(8309),{name:"UserInfo",data:function(){return{isLoading:!1,userinfo:{}}},methods:{getData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/user/".concat(this.$route.params.name)).then((function(n){t.isLoading=!1,t.userinfo=n.data.data})).catch((function(t){console.log(t)}))}},beforeMount:function(){this.isLoading=!0,this.getData()}}),S=U,q=(0,l.Z)(S,H,F,!1,null,"41b44cf9",null),z=q.exports,G=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"autherinfo"},[e("div",{staticClass:"authersummay"},[e("div",{staticClass:"topbar"},[t._v("作者")]),e("router-link",{attrs:{to:{name:"user_info",params:{name:t.userinfo.loginname}}}},[e("img",{attrs:{src:t.userinfo.avatar_url,alt:""}})])],1),e("div",{staticClass:"recent_topics"},[e("div",{staticClass:"topbar"},[t._v("作者最近主题")]),e("ul",t._l(t.topcilimitby5,(function(n){return e("li",{key:n.id},[e("router-link",{attrs:{to:{name:"post_content",params:{id:n.id,name:n.author.loginname}}}},[t._v(" "+t._s(n.title)+" ")])],1)})),0)]),e("div",{staticClass:"recent_replies"},[e("div",{staticClass:"topbar"},[t._v("作者最近回复")]),e("ul",t._l(t.replylimitby5,(function(n){return e("li",{key:n.id},[e("router-link",{attrs:{to:{name:"post_content",params:{id:n.id,name:n.author.loginname}}}},[t._v(" "+t._s(n.title)+" ")])],1)})),0)])])},J=[],K=(e(7042),{name:"SlideBar",data:function(){return{isLoading:!1,userinfo:{}}},methods:{getData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/user/".concat(this.$route.params.name)).then((function(n){t.isLoading=!1,t.userinfo=n.data.data})).catch((function(t){console.log(t)}))}},computed:{topcilimitby5:function(){if(this.userinfo.recent_topics)return this.userinfo.recent_topics.slice(0,5)},replylimitby5:function(){if(this.userinfo.recent_replies)return this.userinfo.recent_replies.slice(0,5)}},beforeMount:function(){this.isLoading=!0,this.getData()}}),N=K,Q=(0,l.Z)(N,G,J,!1,null,"84dd1a02",null),R=Q.exports;a.Z.use(O.Z);var V=new O.Z({routes:[{name:"root",path:"/",components:{main:x}},{name:"post_content",path:"/topic/:id&author=:name",components:{main:A,slidebar:R}},{name:"user_info",path:"/userinfo/:name",components:{main:z}}]}),W=e(6166),X=e.n(W);a.Z.prototype.$http=X(),a.Z.config.productionTip=!1,new a.Z({router:V,render:function(t){return t(j)}}).$mount("#app"),a.Z.filter("formatDate",(function(t){if(!t)return"";var n=new Date(t),e=(new Date).getTime()-n.getTime();return e<0?"":e/1e3<30?"刚刚":e/1e3<60?parseInt(e/1e3)+"秒前":e/6e4<60?parseInt(e/6e4)+"分钟前":e/36e5<24?parseInt(e/36e5)+"小时前":e/864e5<31?parseInt(e/864e5)+"天前":e/2592e6<12?parseInt(e/2592e6)+"月前":parseInt(e/31536e6)+"年前"})),a.Z.filter("tabFormatter",(function(t){return 1==t.good?"精华":1==t.top?"置顶":"ask"==t.tab?"问答":"share"==t.tab?"分享":"招聘"}))},3956:function(t,n,e){t.exports=e.p+"img/cnodejs_light.0acdf610.svg"},6053:function(t,n,e){t.exports=e.p+"img/loading.fe15d37b.gif"}},n={};function e(a){var i=n[a];if(void 0!==i)return i.exports;var s=n[a]={id:a,loaded:!1,exports:{}};return t[a].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}e.m=t,function(){var t=[];e.O=function(n,a,i,s){if(!a){var r=1/0;for(l=0;l<t.length;l++){a=t[l][0],i=t[l][1],s=t[l][2];for(var o=!0,c=0;c<a.length;c++)(!1&s||r>=s)&&Object.keys(e.O).every((function(t){return e.O[t](a[c])}))?a.splice(c--,1):(o=!1,s<r&&(r=s));if(o){t.splice(l--,1);var u=i();void 0!==u&&(n=u)}}return n}s=s||0;for(var l=t.length;l>0&&t[l-1][2]>s;l--)t[l]=t[l-1];t[l]=[a,i,s]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){e.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){e.p="/"}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,a){var i,s,r=a[0],o=a[1],c=a[2],u=0;if(r.some((function(n){return 0!==t[n]}))){for(i in o)e.o(o,i)&&(e.m[i]=o[i]);if(c)var l=c(e)}for(n&&n(a);u<r.length;u++)s=r[u],e.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return e.O(l)},a=self["webpackChunkvue_cnode"]=self["webpackChunkvue_cnode"]||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(586)}));a=e.O(a)})();
//# sourceMappingURL=app-legacy.f11eb8f6.js.map